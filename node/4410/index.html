<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cs" lang="cs"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <link rel="alternate" type="application/rss+xml" title="Comments for &quot;Actions z pohledu programátora&quot;" href="../../crss/node/4410/index.html" /> <link rel="shortcut icon" href="../../misc/favicon.ico" type="image/x-icon" />  <title>Actions z pohledu programátora | Drupal.cz</title>  <link type="text/css" rel="stylesheet" media="all" href="http://dev.drupal.cz/files/css/css_627b248ed357eeef4df34915828cdb13.css" />  <script type="text/javascript" src="http://dev.drupal.cz/files/js/js_050b67296d895f264d903d0650b39e87.js"></script> <script type="text/javascript"> <!--//--><![CDATA[//><!-- jQuery.extend(Drupal.settings, {"basePath":"\/","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls|xml|z|zip"},"lightbox2":{"rtl":"0","file_path":"\/(\\w\\w\/)files","default_image":"\/sites\/all\/modules\/lightbox2\/images\/brokenimage.jpg","border_size":10,"font_color":"000","box_color":"fff","top_position":"","overlay_opacity":"0.8","overlay_color":"000","disable_close_click":1,"resize_sequence":0,"resize_speed":400,"fade_in_speed":400,"slide_down_speed":600,"use_alt_layout":0,"disable_resize":1,"disable_zoom":0,"force_show_nav":0,"show_caption":true,"loop_items":0,"node_link_text":"Zobrazit detaily obr\u00e1zku","node_link_target":0,"image_count":"Obr\u00e1zek !current z !total","video_count":"Video !current z !total","page_count":"Str\u00e1nka !current z !total","lite_press_x_close":"press \u003ca href=\"#\" onclick=\"hideLightbox(); return FALSE;\"\u003e\u003ckbd\u003ex\u003c\/kbd\u003e\u003c\/a\u003e to close","download_link_text":"","enable_login":false,"enable_contact/index.html":false,"keys_close":"c x 27","keys_previous":"p 37","keys_next":"n 39","keys_zoom":"z","keys_play_pause":"32","display_image_size":"original","image_node_sizes":"()","trigger_lightbox_classes":"","trigger_lightbox_group_classes":"","trigger_slideshow_classes":"","trigger_lightframe_classes":"","trigger_lightframe_group_classes":"","custom_class_handler":0,"custom_trigger_classes":"","disable_for_gallery_lists":true,"disable_for_acidfree_gallery_lists":true,"enable_acidfree_videos":true,"slideshow_interval":5000,"slideshow_automatic_start":true,"slideshow_automatic_exit":true,"show_play_pause":true,"pause_on_next_click":false,"pause_on_previous_click":true,"loop_slides":false,"iframe_width":600,"iframe_height":400,"iframe_border":1,"enable_video":0},"thickbox":{"close":"Close","next":"Next \u003e","prev":"\u003c Prev","esc_key":"or Esc Key","next_close":"Next \/ Close on last","image_count":"Image !current of !total"}}); //--><!]]> </script>      <!--[if IE 6]>       <script type="text/javascript">          var IE6UPDATE_OPTIONS = {           icons_path: "http://dev.drupal.cz/sites/all/modules/ie6update/images/",           message: "Internet Explorer is missing updates required to view this site. Click here to update... ",           url: "http://www.microsoft.com/windows/internet-explorer/default.aspx"         }       </script>       <script type="text/javascript" src="http://dev.drupal.cz/sites/all/modules/ie6update/ie6update.js"></script>     <![endif]-->    <script type="text/javascript"> </script> </head> <body> <div id="container"> <p id="goto"><a href="#main-text">Přeskočit přímo na text</a></p> <div id="header">  <h1><a href="../../">Drupal.cz<span></span></a></h1>   <div id="mainnav">    <h4 class="hide">Hlavní navigace</h4>   <ul> <li><a href="../../node/66/index.html"><span>O Drupalu</span></a></li> <li><a href="../../blog/index.html"><span>Blogy</span></a></li> <li><a href="../../faq/index.html"><span>FAQ</span></a></li> <li><a href="../../forum/index.html"><span>Fórum</span></a></li> <li><a href="../../prezentace/index.html"><span>Prezentace</span></a></li> <li><a href="../../node/8520/index.html"><span>Překlady</span></a></li> <li><a href="../../katalog/index.html"><span>Katalog</span></a></li> <li><a href="../../node/1447/index.html"><span>Stáhnout</span></a></li> <li><a href="../../sluzby/index.html"><span>Služby</span></a></li> <li><a href="../../node/11901/index.html"><span>Drupal.cz tým</span></a></li> </ul>   </div> <!-- mainnav end --> </div> <!-- header end -->  <div id="main">   <hr class="block-separator" />  <div class="text" id="main-text">   <div class="maintext">       <div class="articles"> <!--   <hr />    <h2>Články</h2>-->   </div> <!-- articles header end -->         <div class="breadcrumb"><a href="../../">Domů</a></div>        <h2 class="title">Actions z pohledu programátora</h2>         <div class="tabs"></div>           <div class="messages status"> Toto je archivovaná verze české komunitní stránky o CMS Drupal. Nejde na ni již přidávat nový obsah. Pro aktuální informace a kontakt s komunitou navštivte <a href='https://www.drupal.cz'>Drupal.cz</a></div>           <div class="article  article-4410">     <span class="submitted">Vložil/a <a href="../../user/admin/index.html" title="Zobrazit profil uživatele.">Jakub Suchý</a>, 8 Leden, 2009 - 00:00</span>     <div class="pcontent"><p>Actions a Triggers jsou jadernou novinkou Drupalu 6. Možná i z toho důvodu je zatím používá málo lidí. V tomto článku se podíváme stručně na to, k čemu slouží a poté vysvětlíme, jak toho využít z programátorského hlediska. Nebudeme se zabývat uživatelskou stránkou věci – naklikat actions umí každý.</p>  Actions a Triggers  <p>Představte si oba moduly jako přesné překlady z angličtiny: <em>Akce, spouštěné na základě události</em>. Nejlepší jsou příklady a proto: Ve chvíli, kdy je vytvořen nějaký uzel, pošli administrátorovi e-mail. Nebo: Pokud někdo přidá termín taxonomie, zavolej funkci XYZ.</p>  <p>Právě nejčastějším využitím Actions jsou e-maily posílané administrátorovi jako upozornění na nový článek (ke schválení?). Další důležitou možností společně s modulem Workflow je možnost vytvoření např. schvalovacího kolečka článků: Článek jde po vytvoření redaktorovi. Ten ho schválí a předá se korektorovi. Po korekture se čeká na šéfredaktora, který článek vydá. Složité? S Actions, Triggers a Workflow jednoduché!</p>  Vlastní akce  <p>Občas potřebujete vytvořit vlastní akce, které budou reagovat na nějakou událost. Vytvořme si konkrétní příklad: Máme typ obsahu Článek a v něm CCK pole „Referenční článek“. Kdykoliv někdo přidá článek a šéfredaktor ho schválí, nastav stav „Vydáno“ i referenčnímu článku, případně všem jeho dalším referenčním.</p>  <p>Pokud se podíváte na administraci modulu Triggers (admin/build/trig­ger/node), vidíme událost: <em>Trigger: After saving a new post</em>. Spouštěč po vytvoření nového uzlu. V nabízených akcích ale není nic jako „Vlastní akce“ s možností vložit PHP kód. Co teď?</p>  <p>Využijeme Drupal API! Předpokládám, že již víte, jak vytvořit vlastní modul, tím se tedy nebudeme zabývat. (Následující návod se týká Drupalu 6).</p>  <p>Co nás zajímá, je funkce <a href="http://api.drupal.org/api/function/hook_action_info/6">hook_action_in­fo()</a>. Tento hook umožňuje tvořit nové akce, které jsou poté nabídnuty triggerům. Jako již je v Drupalu zvykem, Vaším jediným úkolem v této funkci je definovat asociativní pole hodnot, kterým vytvoříte novou akci:</p>  <pre class="php"><code>/**   * Implementation of hook_action_info().   *   * Tato akce se spustí v případě vytvoření nového uzlu a nastaví stav Vydáno   * všem článkům referencovaným v novém uzlu. Všimněte si komentáře o řádku výše.   * Je dobrým zvykem tuto řádku zahrnout ve Vašem kódu, pro lepší přehlednost.   *   */ function MUJMODUL_action_info() {   return array( # Vracíme asociativní pole /* Toto bude strojový název akce a zároveň název funkce,    která se použije při spuštění akce. */       'MUJMODUL_push_status' =&gt; array( /* Popis, vždy obalený funkcí t() a v angličtině! Pokud použijete jiný    jazyk, ztrácíte v budoucnu možnost překladu! */         'description' =&gt; t('MUJMODUL action: Push state to referenced nodes'), /* Je tato akce konfigurovatelná? Pokud ano, vytvořte funkci s formulářem    MUJMODUL_push_status_form() a ta se použije pro konfiguraci. Po jejím    spuštění proběhne standardní _submit() a _validate(). Více viz dokumentace. */         'configurable' =&gt; FALSE, /* Označuje typ objektu, nad kterým se akce spouští. Pro nás uzel,    může však být user, comment či klidně Váš vlastní typ. */         'type' =&gt; 'node/index.html', /* Říká triggeru, kdy se tato akce vůbec může teoreticky spustit. Modul to    pak použije při prezentaci akce pro administrátora pro    možnosti nastavení. Můžete také použít ('any' =&gt; TRUE). */         'hooks' =&gt; array(           'nodeapi' =&gt; array('insert', 'update'),           ),         ), }</code></pre>  <p>V kódu výše si dejte pozor na jednu věc, která Vás může splést: Definicí hooks neříkáte, kdy se akce spustí (to definujete až v rozhraní webu), ale říkáte, kdy se teoreticky může spustit. Pomocí any také můžete říci, že kdykoliv.</p>  <p>Co je na Actions nejlepší? Už jsme v podstatě hotovi :-) Nyní jen vytvoříme funkci MUJMODUL_push_sta­tus() a ta se spustí společně s akcí.</p>  <pre class="php"><code>/**   * Implementation of a Drupal action.   */ function MUJMODUL_push_status(&amp;$object, $context = array()) {  # Implementaci nechám na Vás.  # $object je proměnná obsahující objekt, nad kterým akci provádíme (Viz 'type' v asociativním poli výše).  # Pro nás je to uzel, který byl vytvořen.  # $context je případný kontext, který se nastaví pro lepší určení kde a jak se akce spouští.  # Např. při vložení uzlu bude $context asi obsahovat pole s klíči hook =&gt; nodeapi a op =&gt; insert. }</code></pre>  <p>Nyní jsme hotovi. Když se podíváte zpět na web do Triggers, uvidíte v seznamu vaší akci, kterou můžete přiřadit, kam potřebujete.</p>  <p>Rekapitulace kódu bez komentářů:</p>  <pre class="php"><code>/**   * Implementation of hook_action_info().   *   * Tato akce se spustí v případě vytvoření nového uzlu a nastaví stav Vydáno   * všem článkům referencovaným v novém uzlu. Všimněte si komentáře o řádku výše.   * Je dobrým zvykem tuto řádku zahrnout ve Vašem kódu, pro lepší přehlednost.   *   */ function MUJMODUL_action_info() {   return array(       'MUJMODUL_push_status' =&gt; array(       'description' =&gt; t('MUJMODUL action: Push state to referenced nodes'),       'configurable' =&gt; FALSE,       'type' =&gt; 'node/index.html',       'hooks' =&gt; array(           'nodeapi' =&gt; array('insert', 'update'),           ),         ), }  /**   * Implementation of a Drupal action.   */ function MUJMODUL_push_status(&amp;$object, $context = array()) {  # Spuštěný kód }</code></pre>  <p></p><div class="nodeauthor-info"><span>About the author</span>není</div></div>     <div class="links"></div> <!-- social-links end --> </div> <!-- social-add end --> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> <div id="social-add-9857" class="social-add digglink" onmouseover="showSocials(9857)" onmouseout="hideSocials(9857)"><a class="social-href-link" href="#">Linkni to!</a> <div class="social-links" id="social-links-9857">  <a href="http://www.jagg.cz/bookmarks.php?action=add&amp;address=http://dev.drupal.cz/clanky/moduly/actions-z-pohledu-programatora&amp;title=Actions z pohledu programátora" class="cs_social_Jagg.cz">Jagg.cz</a>  <a href="http://linkuj.cz/?id=linkuj&amp;url=http://dev.drupal.cz/clanky/moduly/actions-z-pohledu-programatora&amp;title=Actions z pohledu programátora" class="cs_social_Linkuj.cz">Linkuj.cz</a>  <a href="http://asdf.sk/submit.php?url=http://dev.drupal.cz/node/4410/index.html" class="cs_social_Asdf.sk">Asdf.sk</a>  <a href="http://www.mojelinky.sk/bookmarks.php?action=add&amp;address=http://dev.drupal.cz/clanky/moduly/actions-z-pohledu-programatora&amp;title=Actions z pohledu programátora" class="cs_social_Mojelinky.sk">Mojelinky.sk</a> </div> <!-- morelinks end -->   </div>  </div> <!-- article end -->   <div class="article-spacer">&nbsp;</div>   <div id="comments">   <a id="comment-16068"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-16068" class="active">Tento návod nechápu, ale</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/artzik" title="Zobrazit profil uživatele.">artzik</a> dne 11 Leden, 2009 - 17:34.  </div>    <div class="content">     <p>Tento návod nechápu, ale by se mi něco podobného hodilo. Mám vytvořit úplně nový modul a nebo mám jenom nějaký modul upravit? Vůbec nevím :-P</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-16069"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-16069" class="active">Musite vytvorit novy…</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/admin/index.html" title="Zobrazit profil uživatele.">Jakub Suchý</a> dne 11 Leden, 2009 - 19:03.  </div>    <div class="content">     <p>Musite vytvorit novy…</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> </div><a id="comment-20609"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-20609" class="active">Mám vlastní trigger, který</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/ema" title="Zobrazit profil uživatele.">Eva Rázgová</a> dne 19 Srpen, 2009 - 20:41.  </div>    <div class="content">     <p>Mám vlastní trigger, který umožňuje spouštět akce pouze pro můj typ obsahu, po uložení (podle návodu tady: <a href="http://scotthadfield.ca/2008/11/30/creating-custom-triggers-drupal">http://scotthadfield.ca/…ggers-drupal</a>).</p>  <p>A teď bych potřebovala vlastní akci, která pošle e-mail na adresu uvedenou v poli toho uloženého příspěvku (je to CCK pole typu e-mail).</p>  <p>Jde to? A nebyl by prosím nějaký hint, kudy na to? (netuším třeba, jaké proměnné jsou k dispozici ve chvíli, kdy se akce spouští, prostě jak se k tomu poli s e-mailem dostat).</p>  <p>A taky si nejsem jistá, jestli můj trigger a moje akce mají být v jednom modulu (když k sobě patří), nebo ne, nebo je to jedno?</p>  <p>Předem díky za jakoukoliv (užitečnou :-)) radu.</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-20725"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-20725" class="active">Aha, tak jsem byla akorát</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/ema" title="Zobrazit profil uživatele.">Eva Rázgová</a> dne 24 Srpen, 2009 - 01:31.  </div>    <div class="content">     <p>Aha, tak jsem byla akorát slepá a kupodivu jsem si toho všimla ve čtvrt na tři ráno, že bude stačit „Send tokenized e-mail“ :-)</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> </div><a id="comment-20729"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-20729" class="active">Inak da sa to zvladnut aj</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/frankye" title="Zobrazit profil uživatele.">frankye</a> dne 24 Srpen, 2009 - 13:31.  </div>    <div class="content">     <p>Inak da sa to zvladnut aj pomocou Rules, samozrejme aj s tokenmi. Bez programovania noveho modulu.</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <a id="comment-23370"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23370" class="active">Ukázka kódu vlastní akce</a></h3>    <div class="submitted">     Napsal uživatel Anonymous (bez ověření) dne 3 Prosinec, 2009 - 11:15.  </div>    <div class="content">     <p>Bezva, nová akce funguje, ale prosím o nějakou ukázku kódu function MUJMODUL_push_sta­tus(&amp;$object, $context = array()) {<br /> # Spuštěný kód… kde by se pracovalo s poli uzlu i s poli CCK – nevím jak se na ně dostat. Jsem začátečník. Dík</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-23379"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23379" class="active">nainstalujte modul</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/admin/index.html" title="Zobrazit profil uživatele.">Jakub Suchý</a> dne 3 Prosinec, 2009 - 14:35.  </div>    <div class="content">     <p>nainstalujte modul Development a napiste do kodu: dpm($object); a reloadnete stranku (tak aby se spustila akce) uvidite ten objekt a v nem je i node i s CCK</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-23458"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23458" class="active">Toto funguje:</a></h3>    <div class="submitted">     Napsal uživatel Anonymous (bez ověření) dne 5 Prosinec, 2009 - 13:22.  </div>    <div class="content">     <p>Toto funguje:</p>  <p>[php] db_query("UPDATE {node} SET status = 1 WHERE nid = %d ", $object-&gt;nid); [/php]</p>  <p>Toto ne (nic neprovede):</p>  <p>[php] db_query("UPDATE {content_type_muj­typ} SET field_mujCCKfi­eld_value = ‚%d‘ WHERE nid = %d ", time(), $object-&gt;nid); [/php]</p>  <p>Co dělám špatně ? Díky</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-23579"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23579" class="active">Je nějaké řešení ?</a></h3>    <div class="submitted">     Napsal uživatel Anonymous (bez ověření) dne 8 Prosinec, 2009 - 08:05.  </div>    <div class="content">     <p>Najde se nějaké řešení k tomuto dotazu ? Prosím.</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <a id="comment-23622"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23622" class="active">Nefunguje ani toto:</a></h3>    <div class="submitted">     Napsal uživatel Anonymous (bez ověření) dne 9 Prosinec, 2009 - 09:03.  </div>    <div class="content">     <p>Nefunguje ani toto:</p>  <p>&lt;php&gt; db_query("UPDATE {content_type_muj­typ} SET field_mujCCKfi­eld_value = ‚%d‘ WHERE nid = %d ", ‚1260439593‘, $object-&gt;nid); &lt;/php&gt;</p>  <p>Pole field_mujCCKfi­eld_value je stále prázné. Co s tím ?</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-23624"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23624" class="active">Skus db_queryd(…)</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/havran" title="Zobrazit profil uživatele.">Havran</a> dne 9 Prosinec, 2009 - 09:20.  </div>    <div class="content">     <p>Skus db_queryd(…) co ti to vygeneruje a ten dotaz skus rovno v phpMyAdmin…</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-23626"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23626" class="active">Zobrazilo to tohle: UPDATE</a></h3>    <div class="submitted">     Napsal uživatel Anonymous (bez ověření) dne 9 Prosinec, 2009 - 09:49.  </div>    <div class="content">     <p>Zobrazilo to tohle: UPDATE content_type_mujtyp SET field_mujCCKfi­eld_value = ‚1260439593‘ WHERE nid LIKE ‚272‘ a tento dotaz v phpMyAdmin se provedl úspěšně. Proč to tedy nefunguje ve funkci function MUJMODUL_push_sta­tus…</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-23628"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23628" class="active">Ja ze sa bavime</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/havran" title="Zobrazit profil uživatele.">Havran</a> dne 9 Prosinec, 2009 - 10:45.  </div>    <div class="content">     <p>Ja ze sa bavime o nefungujucom SQL :). No ale podla toho ze to db_queryd nieco vypisalo tak do tej funkcie sa dostane a vykona toto query – lenze predpokladam ze vzhladom k tomu ze to modifikujes cez SQL sa este niekde inde uklada ten node s ktorym pracujes co ti tvoju zmenu prepise. To si uz musis oddebugovat sam. V tom $object nahodou nie je cely node aj s tym polom CCK co chces menit? Nie je korektnejsie ako cez SQL natvrdo menit databazu zmenit tu premennu v tom objekte (ktoru si asi on sam aj zapise)???</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> </div></div></div></div></div></div><a id="comment-23633"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23633" class="active">Ano, v $object je i pole,</a></h3>    <div class="submitted">     Napsal uživatel Anonymous (bez ověření) dne 9 Prosinec, 2009 - 11:27.  </div>    <div class="content">     <p>Ano, v $object je i pole, jehož obsah potřebuji změnit. Jak, mám tedy, prosím postupovat při změně proměnné, jak popisujete? Děkuji P.S.: jenom je divné, že toto funguje a u pole CCK ne: db_query("UPDATE {node} SET status = 1 WHERE nid = %d ", $object-&gt;nid);</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> <div class="indented"><a id="comment-23638"></a> <div class="comment clear-block">       <h3><a href="../../clanky/moduly/actions-z-pohledu-programatora#comment-23638" class="active">No skusil by som cosi ako</a></h3>    <div class="submitted">     Napsal uživatel <a href="../../user/havran" title="Zobrazit profil uživatele.">Havran</a> dne 9 Prosinec, 2009 - 14:51.  </div>    <div class="content">     <p>No skusil by som cosi ako $object-&gt;mojeCCKpole[0][‚va­lue‘] = hodnota; – ale vzhladom k tomu ze do toho nevidim tak to je len odhad ze to tak funguje. Ja som to este nepouzival :).</p>  </div> <div class="morelinks">  <a href="../../" class="comment_forbidden"></a> </div> <!-- morelinks end -->   </div> </div></div>           </div> <!-- maintext end -->  </div> <!-- text end -->  <div class="drupal-block">      <div class="db-content block-block-56 block" id="block-block-56">    <div class="db-article">     <h3></h3>     <div class="db-body">      <div>      <a href="../../node/52781/index.html"><img src="../../files/podpora-da-banner-2.png" /></a>     </div>     </div> <!-- db-body end -->    </div> <!-- db-article end -->   </div> <!-- db-content end -->    <div class="db-content block-block-21 block" id="block-block-21">    <div class="db-article">     <h3>Bezpečnost Drupalu</h3>     <div class="db-body">      <div>      <p>Z hlediska bezpečnosti je Drupal na velmi vysoké úrovni, díky propracovanému systému hlášení, prověřování a řešení možných problémů.</p>  <p><a href="../../node/11896/index.html">Čtěte více a odebírejte bezpečnostní aktuality</a></p>     </div>     </div> <!-- db-body end -->    </div> <!-- db-article end -->   </div> <!-- db-content end -->    <div class="db-content block-tagadelic-4 block" id="block-tagadelic-4">    <div class="db-article">     <h3>Články, prezentace</h3>     <div class="db-body">      <div>      <a href="../../clanky/akce" class="tagadelic level5">akce</a>  <a href="../../clanky/node/11896/index.html" class="tagadelic level6">bezpečnost</a>  <a href="../../clanky/camp" class="tagadelic level1">camp</a>  <a href="../../clanky/cck" class="tagadelic level3">CCK</a>  <a href="../../clanky/drupal" class="tagadelic level4">drupal</a>  <a href="../../clanky/drupalcz" class="tagadelic level5">drupal.cz</a>  <a href="../../clanky/drupal-6x" class="tagadelic level1">Drupal 6.x</a>  <a href="../../clanky/drupal-7x" class="tagadelic level2">Drupal 7.x</a>  <a href="../../clanky/drupalcamp" class="tagadelic level3">drupalcamp</a>  <a href="../../clanky/drupalcon" class="tagadelic level3">drupalcon</a>  <a href="../../clanky/drupal-setkani" class="tagadelic level3">Drupal setkání</a>  <a href="../../clanky/galerie/index.html" class="tagadelic level1">galerie</a>  <a href="../../clanky/image" class="tagadelic level2">image</a>  <a href="../../clanky/instalace" class="tagadelic level1">instalace</a>  <a href="../../clanky/lokalizace" class="tagadelic level3">lokalizace</a>  <a href="../../clanky/modul" class="tagadelic level1">modul</a>  <a href="../../clanky/moduly" class="tagadelic level6">moduly</a>  <a href="../../clanky/navod" class="tagadelic level3">navod</a>  <a href="../../clanky/ostatni" class="tagadelic level4">ostatní</a>  <a href="../../clanky/php" class="tagadelic level2">php</a>  <a href="../../clanky/prezentace/index.html" class="tagadelic level1">Prezentace</a>  <a href="../../clanky/programovani" class="tagadelic level1">programování</a>  <a href="../../clanky/pro-webmastery" class="tagadelic level5">pro webmastery</a>  <a href="../../clanky/preklad" class="tagadelic level2">překlad</a>  <a href="../../clanky/prekladatelsky-sprint" class="tagadelic level3">překladatelský sprint</a>  <a href="../../clanky/preklady" class="tagadelic level3">překlady</a>  <a href="../../clanky/pripadove-studie" class="tagadelic level3">případové studie</a>  <a href="../../clanky/reklama" class="tagadelic level1">reklama</a>  <a href="../../clanky/rules" class="tagadelic level1">rules</a>  <a href="../../clanky/setkani" class="tagadelic level5">setkání</a>  <a href="../../clanky/setkani-akce" class="tagadelic level6">setkání, akce</a>  <a href="../../clanky/slovensko" class="tagadelic level1">slovensko</a>  <a href="../../clanky/taxonomy" class="tagadelic level1">taxonomy</a>  <a href="../../clanky/theming" class="tagadelic level3">theming</a>  <a href="../../clanky/tipy-triky" class="tagadelic level5">tipy &amp; triky</a>  <a href="../../clanky/ubercart" class="tagadelic level2">UberCart</a>  <a href="../../clanky/upgrade" class="tagadelic level1">upgrade</a>  <a href="../../clanky/views" class="tagadelic level3">views</a>  <a href="../../clanky/vyvoj" class="tagadelic level3">vývoj</a>  <a href="../../clanky/vyvoj-drupalu" class="tagadelic level5">vývoj drupalu</a>  <a href="../../clanky/webhosting" class="tagadelic level1">Webhosting</a>  <a href="../../clanky/workshop" class="tagadelic level1">workshop</a>  <a href="../../clanky/wysiwyg" class="tagadelic level1">wysiwyg</a>  <a href="../../clanky/zacatecnici" class="tagadelic level5">začátečníci</a>  <a href="../../clanky/sablony-vzhled" class="tagadelic level3">šablony a vzhled</a>  <a href="../../clanky/skoleni" class="tagadelic level1">školení</a>       </div>     </div> <!-- db-body end -->     <div class="db-footer">      <p>&nbsp;</p>     </div>    </div> <!-- db-article end -->   </div> <!-- db-content end -->    <div class="db-content block-forum-1 block" id="block-forum-1">    <div class="db-article">     <h3>Nová témata</h3>     <div class="db-body">      <div>      <div class="item-list"><ul><li class="first"><a href="../../node/87461/index.html">Logická drobečková navigace</a></li> <li><a href="../../node/87426/index.html" title="7 komentářů">Vypnutí modulu</a></li> <li><a href="../../node/87121/index.html" title="4 komentáře">Adsense</a></li> <li><a href="../../node/87016/index.html" title="4 komentáře">Fotoalbum</a></li> <li class="last"><a href="../../node/86811/index.html" title="2 komentáře">Kombinovaný filtr hledá pouze v jedné kategorii</a></li> </ul></div><div class="more-link"><a href="../../forum/index.html" title="Přečíst nejnovější diskuse.">další</a></div>     </div>     </div> <!-- db-body end -->    </div> <!-- db-article end -->   </div> <!-- db-content end -->    <div class="db-content block-comment-0 block" id="block-comment-0">    <div class="db-article">     <h3>Poslední komentáře</h3>     <div class="db-body">      <div>      <div class="item-list"><ul><li class="first"><a href="../../forum/po-instalaci/jak-na/vypnuti-modulu#comment-104231">stahnout puvodni verzi webu a</a><br />před 2 týdny 3 dny</li> <li><a href="../../forum/po-instalaci/jak-na/vypnuti-modulu#comment-104226">ne, tohle fakt neni reseni.</a><br />před 2 týdny 3 dny</li> <li><a href="../../forum/po-instalaci/jak-na/vypnuti-modulu#comment-104221">Smazání modulu (přes FTP) není dobrý nápad</a><br />před 2 týdny 3 dny</li> <li><a href="../../forum/po-instalaci/jak-na/fotoalbum#comment-104216">To jo, ale i tak ten view</a><br />před 2 týdny 3 dny</li> <li><a href="../../forum/po-instalaci/jak-na/vypnuti-modulu#comment-104211">VYŘEŠENO</a><br />před 2 týdny 3 dny</li> <li><a href="../../forum/po-instalaci/jak-na/vypnuti-modulu#comment-104206">Zjištění závislostí</a><br />před 2 týdny 3 dny</li> <li><a href="../../forum/po-instalaci/jak-na/vypnuti-modulu#comment-104201">jak vymazes cache tak hned</a><br />před 2 týdny 3 dny</li> <li><a href="../../forum/po-instalaci/jak-na/fotoalbum#comment-104196">Ve view se dá u políček</a><br />před 2 týdny 3 dny</li> <li><a href="../../forum/po-instalaci/jak-na/vypnuti-modulu#comment-104191">V D8 se modul nevypíná, ale</a><br />před 2 týdny 3 dny</li> <li class="last"><a href="../../forum/po-instalaci/jak-na/fotoalbum#comment-104186">Osobně jsem dělal např. typ</a><br />před 2 týdny 4 dny</li> </ul></div>     </div>     </div> <!-- db-body end -->    </div> <!-- db-article end -->   </div> <!-- db-content end -->    <div class="db-content block-block-4 block" id="block-block-4">    <div class="db-article">     <h3>RSS Kanály</h3>     <div class="db-body">      <div>      <p><a href="../../rss.xml/index.html" title="RSS Kanal"><img src="../../misc/feed.png" width="16" height="16" alt="Feed" /> Hlavní RSS kanál</a></p> <div class="more-link"> <a href="../../node/79/index.html">všechny kanály</a> </div>      </div>     </div> <!-- db-body end -->    </div> <!-- db-article end -->   </div> <!-- db-content end -->    <div class="db-content block-user-3 block" id="block-user-3">    <div class="db-article">     <h3>Kdo je online</h3>     <div class="db-body">      <div>      Momentálně je online <em>1 uživatel</em> a <em>4 hosté</em>.<div class="item-list"><h3>Online uživatelé</h3><ul><li class="first last"><a href="../../user/coyot" title="Zobrazit profil uživatele.">radimklaska</a></li> </ul></div>     </div>     </div> <!-- db-body end -->    </div> <!-- db-article end -->   </div> <!-- db-content end -->    <div class="db-content block-block-8 block" id="block-block-8">    <div class="db-article">     <h3>Support</h3>     <div class="db-body">      <div>      <p><a href="http://www.psychologie-online.cz">Psychologie - poradenství</a></p> <!-- Start Visual Website Optimizer Asynchronous Code --><!-- Start Visual Website Optimizer Asynchronous Code --><script type='text/javascript'> var _vwo_code=(function(){ var account_id=31941, settings_tolerance=2000, library_tolerance=1500, use_existing_jquery=false, // DO NOT EDIT BELOW THIS LINE f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init(); </script><!-- End Visual Website Optimizer Asynchronous Code --><!-- End Visual Website Optimizer Asynchronous Code -->     </div>     </div> <!-- db-body end -->    </div> <!-- db-article end -->   </div> <!-- db-content end --> </div> <!-- drupal-block end -->  <div class="cleaner">&nbsp;</div> </div> <!-- main end --> </div> <!-- container end --> <div id="footer">  (C) Copyright 2012 Jakub Suchý, <a href="../../contact/index.html">kontakt</a>. Chrání nás <a href="http://www.virusfree.cz/antispam-antivir">antispam</a> Virusfree. Drupal je registrovaná ochranná známka <a href="http://buytaert.net">Driese Buytaerta</a>.  <a href="https://www.acquia.com/products-services/acquia-managed-cloud">Drupal Hosting</a> powered by Acquia Cloud.  <div class="preloader">   <img src="../../sites/all/themes/drupal/images/nav-right.png" width="1" height="1" alt="." />   <img src="../../sites/all/themes/drupal/images/nav-left.png" width="1" height="1" alt="." />   <img src="../../sites/all/themes/drupal/images/nav-left-active.png" width="1" height="1" alt="." />   <img src="../../sites/all/themes/drupal/images/nav-right-active.png" width="1" height="1" alt="." />  </div> </div> <!-- footer end --> <script type="text/javascript" src="http://dev.drupal.cz/files/js/js_1681de23e148f8277d1e7ee3fb33fced.js"></script> <script type="text/javascript"> <!--//--><![CDATA[//><!-- jQuery.extend(Drupal.settings, {"googleCSE":{"language":"cs"}}); //--><!]]> </script> <script type="text/javascript"> <!--//--><![CDATA[//><!-- var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-114938389-2"]);_gaq.push(["_trackPageview"]);(function() {var ga = document.createElement("script");ga.type = "text/javascript";ga.async = true;ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga, s);})(); //--><!]]> </script> </body> </html> 